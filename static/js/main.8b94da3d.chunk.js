(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(4),o=n.n(c),i=(n(15),n(9)),l=n(3),s=n(1);function u(e){var t=e.onSubmit,n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],o=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(c.toLocaleLowerCase()),o("")},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",onChange:function(e){var t=e.target.value;o(t)},value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}function b(e){var t=e.previewUrl,n=e.originUrl,r=e.tags,a=e.onClick;return Object(s.jsx)("li",{className:"ImageGalleryItem",children:Object(s.jsx)("img",{src:t,alt:r,className:"ImageGalleryItem-image",onClick:function(e){return a({originUrl:n,tags:r})}})})}function j(e){var t=e.galleryData,n=e.onClick;return Object(s.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){var r=e.webformatURL,a=e.largeImageURL,c=e.tags;return Object(s.jsx)(b,{previewUrl:r,originUrl:a,tags:c,onClick:n},t)}))})}var m,f,h=n(10),O=n.n(h),g=document.getElementById("portal");function d(){return Object(c.createPortal)(Object(s.jsx)("div",{className:"Overlay",children:Object(s.jsx)(O.a,{type:"Oval",color:"#fff",height:150,width:150})}),g)}function p(e){var t=e.className,n=e.children,r=e.onClick;return Object(s.jsx)("button",{className:t,type:"button",onClick:r,children:n})}var v=["title","titleId"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e,t){var n=e.title,a=e.titleId,c=w(e,v);return r.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,m||(m=r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),f||(f=r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}var S=r.forwardRef(x),k=(n.p,document.getElementById("portal"));function C(e){var t=e.image,n=e.onClose,a=t.url,o=t.tags;Object(r.useEffect)((function(){return window.addEventListener("keydown",i),function(){window.removeEventListener("keydown",i)}}));var i=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(s.jsxs)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:[Object(s.jsx)("img",{src:a,alt:o}),Object(s.jsx)(p,{className:"CloseModalButton",onClick:function(e){e.preventDefault(),n()},children:Object(s.jsx)(S,{})})]}),k)}var E=n(5),N=(n(37),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});function I(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(1),o=Object(l.a)(c,2),b=o[0],m=o[1],f=Object(r.useState)([]),h=Object(l.a)(f,2),O=h[0],g=h[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),w=y[0],x=y[1],S=Object(r.useState)(!1),k=Object(l.a)(S,2),I=k[0],B=k[1],L=Object(r.useState)(null),U=Object(l.a)(L,2),P=U[0],F=U[1],D=Object(r.useState)(null),M=Object(l.a)(D,2),q=M[0],R=M[1],z=Object(r.useState)(!1),G=Object(l.a)(z,2),H=G[0],T=G[1];Object(r.useEffect)((function(){if(n){B(!0),function(e,t,n){var r=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:n,key:"22968380-c77365a0aacae74fb17ed9f87"}),a="".concat("https://pixabay.com/api/?").concat(r);return fetch(a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Somthing goes wrong"))}))}(n,b,12).then((function(e){var t=e.hits,r=e.total;if(0===r)return g([]),B(!1),x(!1),void E.b.error('By query "'.concat(n,'" images not found'),N);b===Math.ceil(r/12)?(x(!1),E.b.warn('That is all we found by query "'.concat(n,'"'),N)):x(!0),g((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),B(!1),b>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){F(e.message)}))}}),[n,b]);var J=function(){T((function(e){return!e})),R((function(e){return e&&null}))};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(u,{onSubmit:function(e){e.trim()?(a(e),g([]),m(1),x(!1)):E.b.error("Empty query",N)}}),n&&O.length>0&&Object(s.jsx)(j,{galleryData:O,onClick:function(e){var t=e.originUrl,n=e.tags;J(),R({url:t,tags:n})}}),w&&Object(s.jsx)("div",{className:"ButtonWrapper",children:Object(s.jsx)(p,{className:"Button",onClick:function(e){e.preventDefault(),m((function(e){return e+1}))},children:"Load more"})}),I&&Object(s.jsx)(d,{}),H&&Object(s.jsx)(C,{onClose:J,image:q}),P&&E.b.error(P,N),Object(s.jsx)(E.a,{})]})}o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8b94da3d.chunk.js.map